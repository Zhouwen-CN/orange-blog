import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as s,c as t,e as i,a as e,f as a,d as l}from"./app-DdiGLGsK.js";const o={},p=e("h1",{id:"centos7-安装",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#centos7-安装"},[e("span",null,"Centos7 安装")])],-1),r=e("p",null,[a("✨ 使用 "),e("code",null,"VMware"),a(" 安装 "),e("code",null,"centos"),a(" 虚拟机")],-1),c=l(`<h2 id="准备资源" tabindex="-1"><a class="header-anchor" href="#准备资源"><span>准备资源</span></a></h2><ul><li>VMware</li><li>centos7 镜像</li><li>jdk1.8</li></ul><h2 id="创建虚拟机" tabindex="-1"><a class="header-anchor" href="#创建虚拟机"><span>创建虚拟机</span></a></h2><div class="hint-container tip"><p class="hint-container-title">提示</p><p>没有截图选择默认</p></div><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022054685.png" alt="点击创建新的虚拟机" tabindex="0" loading="lazy"><figcaption>点击创建新的虚拟机</figcaption></figure><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022054042.png" alt="选择稍后安装操作系统" tabindex="0" loading="lazy"><figcaption>选择稍后安装操作系统</figcaption></figure><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022058985.png" alt="选择Linux centos7" tabindex="0" loading="lazy"><figcaption>选择Linux centos7</figcaption></figure><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022059232.png" alt="选择虚拟机存放位置" tabindex="0" loading="lazy"><figcaption>选择虚拟机存放位置</figcaption></figure><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022100885.png" alt="cup（建议默认，随后修改）" tabindex="0" loading="lazy"><figcaption>cup（建议默认，随后修改）</figcaption></figure><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022101632.png" alt="内存（建议默认，随后修改）" tabindex="0" loading="lazy"><figcaption>内存（建议默认，随后修改）</figcaption></figure><div class="hint-container info"><p class="hint-container-title">相关信息</p><p><strong>host-only 模式</strong>（adapter = VMnet1）：虚拟机和主机之间可以相互访问，虚拟机不能访问外网</p><p><strong>NET 模式</strong>（adapter = VMnet8）：虚拟机和主机之间可以相互访问，虚拟机可以访问外网，外网不能访问虚拟机</p><p><strong>桥接模式</strong>（adapter = VMnet0）：虚拟机就相当于一台实体机，可以自由访问和被访问以及上网</p></div><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022102567.png" alt="网络（默认NAT）" tabindex="0" loading="lazy"><figcaption>网络（默认NAT）</figcaption></figure><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022104530.png" alt="磁盘（实际占用为准）" tabindex="0" loading="lazy"><figcaption>磁盘（实际占用为准）</figcaption></figure><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022108952.png" alt="选择镜像文件（这里需要自行下载）" tabindex="0" loading="lazy"><figcaption>选择镜像文件（这里需要自行下载）</figcaption></figure><p>完了开启虚拟机，安装系统，不需要 test，选第一个</p><h2 id="_2-linux-系统安装" tabindex="-1"><a class="header-anchor" href="#_2-linux-系统安装"><span>2. linux 系统安装</span></a></h2><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022115287.png" alt="选择中文" tabindex="0" loading="lazy"><figcaption>选择中文</figcaption></figure><h3 id="_2-1-日期和时间" tabindex="-1"><a class="header-anchor" href="#_2-1-日期和时间"><span>2.1 日期和时间</span></a></h3><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022115112.png" alt="调整时间" tabindex="0" loading="lazy"><figcaption>调整时间</figcaption></figure><h3 id="_2-2-磁盘分区" tabindex="-1"><a class="header-anchor" href="#_2-2-磁盘分区"><span>2.2 磁盘分区</span></a></h3><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022116827.png" alt="分配磁盘" tabindex="0" loading="lazy"><figcaption>分配磁盘</figcaption></figure><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022117924.png" alt="添加挂载点" tabindex="0" loading="lazy"><figcaption>添加挂载点</figcaption></figure><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022117121.png" alt="修改文件系统" tabindex="0" loading="lazy"><figcaption>修改文件系统</figcaption></figure><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022117040.png" alt="添加根挂载点（不需要swap，因为后面会关掉的）" tabindex="0" loading="lazy"><figcaption>添加根挂载点（不需要swap，因为后面会关掉的）</figcaption></figure><h3 id="_2-3-kdump" tabindex="-1"><a class="header-anchor" href="#_2-3-kdump"><span>2.3 KDUMP</span></a></h3><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022118712.png" alt="系统崩溃的时候，备份数据用的，可关闭" tabindex="0" loading="lazy"><figcaption>系统崩溃的时候，备份数据用的，可关闭</figcaption></figure><h3 id="_2-4-网络和主机名称" tabindex="-1"><a class="header-anchor" href="#_2-4-网络和主机名称"><span>2.4 网络和主机名称</span></a></h3><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022119494.png" alt="网络和主机名称" tabindex="0" loading="lazy"><figcaption>网络和主机名称</figcaption></figure><p><mark>点击开始安装</mark></p><h3 id="_2-5-root-密码" tabindex="-1"><a class="header-anchor" href="#_2-5-root-密码"><span>2.5 ROOT 密码</span></a></h3><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022120816.png" alt="简单密码点击两次完成即可" tabindex="0" loading="lazy"><figcaption>简单密码点击两次完成即可</figcaption></figure><h2 id="_3-linux-初始化" tabindex="-1"><a class="header-anchor" href="#_3-linux-初始化"><span>3. linux 初始化</span></a></h2><h3 id="_3-1-ip-地址修改" tabindex="-1"><a class="header-anchor" href="#_3-1-ip-地址修改"><span>3.1 ip 地址修改</span></a></h3><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022120375.png" alt="修改成静态ip" tabindex="0" loading="lazy"><figcaption>修改成静态ip</figcaption></figure><h3 id="_3-2-使用-ssh-工具连接虚拟机" tabindex="-1"><a class="header-anchor" href="#_3-2-使用-ssh-工具连接虚拟机"><span>3.2 使用 ssh 工具连接虚拟机</span></a></h3><p>略</p><h3 id="_3-2-一些准备工作" tabindex="-1"><a class="header-anchor" href="#_3-2-一些准备工作"><span>3.2 一些准备工作</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment">#关闭并禁用NetworkManager，图形化用的网络管理，我没有图形化</span>
systemctl stop NetworkManager
systemctl disable NetworkManager

<span class="token comment">#关闭并禁用防火墙</span>
systemctl stop firewalld
systemctl disable firewalld

<span class="token comment">#关闭并禁用selinux</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;s/enforcing/disabled/&#39;</span> /etc/selinux/config  <span class="token comment">#永久</span>
setenforce <span class="token number">0</span>  <span class="token comment">#临时</span>

<span class="token comment">#关闭并禁用swap</span>
<span class="token function">sed</span> <span class="token parameter variable">-ri</span> <span class="token string">&#39;s/.*swap.*/#&amp;/&#39;</span> /etc/fstab  <span class="token comment">#永久</span>
swapoff <span class="token parameter variable">-a</span>  <span class="token comment">#临时</span>

<span class="token comment">#设置时区，图形化的时候已经设置了，这里只是把它记录下载</span>
ll /etc/localtime  <span class="token comment">#查看当前时区</span>
timedatectl list-timezones <span class="token operator">|</span> <span class="token function">grep</span> Shanghai  <span class="token comment">#查找中国时区的完整名称</span>
timedatectl set-timezone Asia/Shanghai  <span class="token comment">#其他时区以此类推</span>

<span class="token comment">#设置hostname，图形化的时候已经设置了，这里只是把它记录下载</span>
<span class="token function">hostname</span>  <span class="token comment">#查看当前hostname</span>
hostnamectl set-hostname hadoop100  <span class="token comment">#设置hostname，不用重启</span>

<span class="token comment">#添加yum 阿里镜像源</span>
<span class="token function">curl</span> <span class="token parameter variable">-o</span> /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo
<span class="token comment">#重新构建yum缓存</span>
yum clean all  <span class="token comment">#清除缓存</span>
yum update <span class="token parameter variable">-y</span>  <span class="token comment">#升级软件包，需要一会</span>
yum makecache  <span class="token comment">#构建缓存</span>
<span class="token comment">#安装vim</span>
yum <span class="token function">install</span> <span class="token parameter variable">-y</span> <span class="token function">vim</span>
<span class="token comment">#查看是否安装java和mariadb，命令可以分段执行，不然会直接卸载</span>
<span class="token function">rpm</span> <span class="token parameter variable">-qa</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-E</span> mysql<span class="token punctuation">\\</span><span class="token operator">|</span>mariadb <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token parameter variable">-n1</span> <span class="token function">rpm</span> <span class="token parameter variable">-e</span> <span class="token parameter variable">--nodeps</span>
<span class="token function">rpm</span> <span class="token parameter variable">-qa</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-i</span> <span class="token function">java</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token parameter variable">-n1</span> <span class="token function">rpm</span> <span class="token parameter variable">-e</span> <span class="token parameter variable">--nodeps</span>

<span class="token comment">#创建文件夹赋予权限，用来安装软件</span>
<span class="token function">mkdir</span> /opt/module
<span class="token function">mkdir</span> /opt/software
<span class="token function">chown</span> <span class="token parameter variable">-R</span> atguigu:atguigu /opt/

<span class="token comment">#添加用户</span>
<span class="token function">useradd</span> atguigu
<span class="token builtin class-name">echo</span> <span class="token number">123</span> <span class="token operator">|</span> <span class="token function">passwd</span> <span class="token parameter variable">--stdin</span> atguigu
<span class="token comment">#添加sudo权限(sudo就是使用root身份执行命令)，如图</span>
<span class="token function">vim</span> /etc/sudoers
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022122308.png" alt="添加sudo权限" tabindex="0" loading="lazy"><figcaption>添加sudo权限</figcaption></figure><h3 id="_3-3-安装-jdk" tabindex="-1"><a class="header-anchor" href="#_3-3-安装-jdk"><span>3.3 安装 jdk</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment">#上传安装包</span>
<span class="token comment">#解压</span>
<span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> jdk-8u361-linux-x64.tar.gz <span class="token parameter variable">-C</span> /opt/module/

<span class="token comment">#改短名字</span>
<span class="token builtin class-name">cd</span> /opt/module/
<span class="token function">mv</span> jdk1.8.0_361 jdk-1.8.0

<span class="token comment">#设置环境变量</span>
<span class="token function">sudo</span> <span class="token function">vim</span> /etc/profile.d/my_env.sh
<span class="token comment">#添加以下内容</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/opt/module/jdk-1.8.0
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$JAVA_HOME</span>/bin:<span class="token environment constant">$PATH</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CLASSPATH</span><span class="token operator">=</span>.:<span class="token variable">$JAVA_HOME</span>/lib/dt.jar:<span class="token variable">$JAVA_HOME</span>/lib/tools.jar
<span class="token comment">#刷新环境变量</span>
<span class="token builtin class-name">source</span> /etc/profile
<span class="token comment">#查看java版本，出现版本号就说明对了</span>
<span class="token function">java</span> <span class="token parameter variable">-version</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-拍摄快照" tabindex="-1"><a class="header-anchor" href="#_4-拍摄快照"><span>4. 拍摄快照</span></a></h2><p>将当前虚拟机作为原型机，需要用的时候克隆修改 ip 即可</p><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022122122.png" alt="拍摄快照" tabindex="0" loading="lazy"><figcaption>拍摄快照</figcaption></figure><h2 id="_5-克隆虚拟机" tabindex="-1"><a class="header-anchor" href="#_5-克隆虚拟机"><span>5. 克隆虚拟机</span></a></h2><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022123047.png" alt="克隆虚拟机" tabindex="0" loading="lazy"><figcaption>克隆虚拟机</figcaption></figure><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022124479.png" alt="选择从快照克隆" tabindex="0" loading="lazy"><figcaption>选择从快照克隆</figcaption></figure><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>完整克隆会占用更多的硬盘，原型快照损坏不影响</p><p>链接克隆，原型快照损坏将导致无法打开</p></div><figure><img src="https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022124504.png" alt="选择链接克隆" tabindex="0" loading="lazy"><figcaption>选择链接克隆</figcaption></figure>`,49);function m(g,d){return s(),t("div",null,[p,r,i(" more "),c])}const b=n(o,[["render",m],["__file","install_centos7.html.vue"]]),v=JSON.parse('{"path":"/bigdata/install_centos7.html","title":"Centos7 安装","lang":"zh-CN","frontmatter":{"title":"Centos7 安装","icon":"fa-brands fa-centos","date":"2024-03-29T00:00:00.000Z","star":true,"category":["大数据"],"tag":["linux"],"description":"✨ 使用 VMware 安装 centos 虚拟机","head":[["meta",{"property":"og:url","content":"https://zhouwen-cn.gitee.io/orange-blog/bigdata/install_centos7.html"}],["meta",{"property":"og:site_name","content":"橙子博客"}],["meta",{"property":"og:title","content":"Centos7 安装"}],["meta",{"property":"og:description","content":"✨ 使用 VMware 安装 centos 虚拟机"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022054685.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-29T03:18:49.000Z"}],["meta",{"property":"article:author","content":"Mr.陈"}],["meta",{"property":"article:tag","content":"linux"}],["meta",{"property":"article:published_time","content":"2024-03-29T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-29T03:18:49.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Centos7 安装\\",\\"image\\":[\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022054685.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022054042.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022058985.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022059232.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022100885.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022101632.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022102567.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022104530.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022108952.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022115287.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022115112.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022116827.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022117924.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022117121.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022117040.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022118712.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022119494.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022120816.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022120375.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022122308.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022122122.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022123047.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022124479.png\\",\\"https://gitee.com/Zhouwen-CN/blog_pictures/raw/master/images/202404022124504.png\\"],\\"datePublished\\":\\"2024-03-29T00:00:00.000Z\\",\\"dateModified\\":\\"2024-03-29T03:18:49.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.陈\\",\\"url\\":\\"https://gitee.com/Zhouwen-CN\\",\\"email\\":\\"597879949@qq.com\\"}]}"]]},"headers":[{"level":2,"title":"准备资源","slug":"准备资源","link":"#准备资源","children":[]},{"level":2,"title":"创建虚拟机","slug":"创建虚拟机","link":"#创建虚拟机","children":[]},{"level":2,"title":"2. linux 系统安装","slug":"_2-linux-系统安装","link":"#_2-linux-系统安装","children":[{"level":3,"title":"2.1 日期和时间","slug":"_2-1-日期和时间","link":"#_2-1-日期和时间","children":[]},{"level":3,"title":"2.2 磁盘分区","slug":"_2-2-磁盘分区","link":"#_2-2-磁盘分区","children":[]},{"level":3,"title":"2.3 KDUMP","slug":"_2-3-kdump","link":"#_2-3-kdump","children":[]},{"level":3,"title":"2.4 网络和主机名称","slug":"_2-4-网络和主机名称","link":"#_2-4-网络和主机名称","children":[]},{"level":3,"title":"2.5 ROOT 密码","slug":"_2-5-root-密码","link":"#_2-5-root-密码","children":[]}]},{"level":2,"title":"3. linux 初始化","slug":"_3-linux-初始化","link":"#_3-linux-初始化","children":[{"level":3,"title":"3.1 ip 地址修改","slug":"_3-1-ip-地址修改","link":"#_3-1-ip-地址修改","children":[]},{"level":3,"title":"3.2 使用 ssh 工具连接虚拟机","slug":"_3-2-使用-ssh-工具连接虚拟机","link":"#_3-2-使用-ssh-工具连接虚拟机","children":[]},{"level":3,"title":"3.2 一些准备工作","slug":"_3-2-一些准备工作","link":"#_3-2-一些准备工作","children":[]},{"level":3,"title":"3.3 安装 jdk","slug":"_3-3-安装-jdk","link":"#_3-3-安装-jdk","children":[]}]},{"level":2,"title":"4. 拍摄快照","slug":"_4-拍摄快照","link":"#_4-拍摄快照","children":[]},{"level":2,"title":"5. 克隆虚拟机","slug":"_5-克隆虚拟机","link":"#_5-克隆虚拟机","children":[]}],"git":{"createdTime":1711682329000,"updatedTime":1711682329000,"contributors":[{"name":"Zhouwen-CN","email":"597879949@qq.com","commits":1}]},"readingTime":{"minutes":3.31,"words":994},"filePathRelative":"bigdata/install_centos7.md","localizedDate":"2024年3月29日","excerpt":"\\n<p>✨ 使用 <code>VMware</code> 安装 <code>centos</code> 虚拟机</p>\\n","autoDesc":true}');export{b as comp,v as data};
